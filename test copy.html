<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>图片输入框功能</title>
  <style>
      body {
            margin: 0 auto; /* 实现左右居中 */
            max-width: 1200px; /* 设定最大宽度 */
            padding: 20px; /* 添加内边距 */
        }
     .container {
            display: flex;
            align-items: center;
        }
        .clear-button {
            margin-right: 10px;
        }
        .image-container-new {
            display: flex;
            align-items: center;
        }
        .image-container-new img {
            margin-right: 5px;
        }

        .greenPointer {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(2); /* 放大图像 */
        }
    #imageInput {
        display: none;
    }


    #defaultImages {
      display: flex; /* 使用 flexbox 排列子元素 */
      flex-wrap: wrap; /* 讓子元素在空間不足時換行 */
    }

    #defaultImages {
    display: grid; /* 使用 grid 布局 */
    grid-template-columns: repeat(12, 1fr); /* 每行最多4个元素，可以根据需要调整数量 */
    grid-gap: 1px; /* 元素之间的间距 */
    }

    /* 調整圖片樣式 */
    #defaultImages img {
      margin-right: 5px; /* 調整圖片間距 */
      margin-bottom: 5px; /* 調整圖片下邊距 */
    }
    .image-container {
      width: 900px; /* 设置图片容器的宽度 */
      height: 65px;
      border: 1px solid #ccc;
      margin-bottom: 10px;
      overflow-x: auto; /* 当图片容器宽度超出屏幕宽度时启用横向滚动 */
      /* white-space: nowrap; 让图片在一行内显示 */
    }
    .image-preview {
      width: 140px; /* 每张预览图片的宽度 */
      height: 100px;
      object-fit: cover;
      display: inline-block; /* 设置图片在同一行内显示 */
      margin-right: 5px; /* 图片之间的间隔 */
    }
    .image-preview-small {
      /* width: 70px; */
      height: 70px;
      /* object-fit: cover; */
      display: inline-block;
      margin-right: 10px;
    }

   
  </style>
</head>
<body>
  <input type="text" id="imageInput">
  
  <div class="image-container"></div>
  <button class="genbutton" onclick="copyToNewInput()" style="height: 70px; width: 100px;;">Gen</button>
  <!-- 新的输入框 -->
  <!-- <input type="text" id="newImageInputName" placeholder="输入框名称"> -->
  <!-- <input type="text" id="newImageInput"> -->
 
  <!-- 默认图片列表  -->
  <div id="defaultImages">
    <div id="defaultImagesArrow">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_arrow_b.svg" alt="图片1" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_arrow_b.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_arrow_db.svg" alt="图片2" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_arrow_db.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_arrow_d.svg" alt="图片3" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_arrow_d.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_arrow_df.svg" alt="图片4" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_arrow_df.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_arrow_f.svg" alt="图片5" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_arrow_f.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_arrow_uf.svg" alt="图片6" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_arrow_uf.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_arrow_u.svg" alt="图片7" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_arrow_u.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_arrow_ub.svg" alt="图片8" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_arrow_ub.svg')" style="cursor: pointer;">
  </div>
    <div id="defaultImagesLongArrow">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_arrow_hb.svg" alt="图片9" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_arrow_hb.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_arrow_hdb.svg" alt="图片10" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_arrow_hdb.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_arrow_hd.svg" alt="图片11" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_arrow_hd.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_arrow_hdf.svg" alt="图片12" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_arrow_hdf.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_arrow_hf.svg" alt="图片13" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_arrow_hf.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_arrow_huf.svg" alt="图片14" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_arrow_huf.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_arrow_hu.svg" alt="图片15" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_arrow_hu.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_arrow_hub.svg" alt="图片16" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_arrow_hub.svg')" style="cursor: pointer;">
    </div>
    <div id="defaultImagesArrowMove">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_sep_grn.svg" alt="图片17" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_sep_grn.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_arrow_n.svg" alt="图片18" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_arrow_n.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/dash.svg" alt="图片19" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/dash.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/ws.svg" alt="图片20" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/ws.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/fc.svg" alt="图片21" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/fc.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/ss.svg" alt="图片22" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/ss.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/wr.svg" alt="图片23" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/wr.svg')" style="cursor: pointer;">
    </div>
    <div id="defaultImagesArrowBody">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_button_1.svg" alt="图片24" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_button_1.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_button_2.svg" alt="图片25" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_button_2.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_button_3.svg" alt="图片26" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_button_3.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_button_4.svg" alt="图片27" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_button_4.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_button_12.svg" alt="图片28" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_button_12.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_button_13.svg" alt="图片29" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_button_13.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_button_14.svg" alt="图片30" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_button_14.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_button_23.svg" alt="图片31" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_button_23.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_button_24.svg" alt="图片32" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_button_24.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_button_34.svg" alt="图片33" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_button_34.svg')" style="cursor: pointer;">
    </div> 
    <div id="defaultImagesArrowOther">
    <img src="/images/IZUMI.png" alt="图片34" onclick="selectImage('/images/IZUMI.png')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_immediately-after.svg" alt="图片34" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_immediately-after.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/just-frame.svg" alt="图片35" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/just-frame.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tail-spin-fr.svg" alt="图片36" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tail-spin-fr.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/tek_backturn-01.svg" alt="图片37" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/tek_backturn-01.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/ch.svg" alt="图片38" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/ch.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/wallsplat.svg" alt="图片39" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/wallsplat.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/wallbreak.svg" alt="图片40" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/wallbreak.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/floorbreak.svg" alt="图片41" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/floorbreak.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/during-ltwst.svg" alt="图片42" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/during-ltwst.svg')" style="cursor: pointer;">
    <img src="https://tekken-combo-maker.netlify.app/inputs/during-rtwst.svg" alt="图片43" onclick="selectImage('https://tekken-combo-maker.netlify.app/inputs/during-rtwst.svg')" style="cursor: pointer;">
    <img src="https://combotier.com/tekken8/cmd_asset/tornado.webp" alt="图片43" onclick="selectImage('https://combotier.com/tekken8/cmd_asset/tornado.webp')" style="cursor: pointer;width: 40px;height: 40px;"> 
    <img src="https://combotier.com/tekken8/cmd_asset/heat.webp" alt="图片43" onclick="selectImage('https://combotier.com/tekken8/cmd_asset/heat.webp')" style="cursor: pointer;width: 40px;height: 40px;"> 

    
    
  </div>
  
  </div>

  <!-- 新增按鈕 -->
  <div>
  <button onclick="clearImageInput()">清空输入框</button>
  </div>
  <div class="image-container-new"></div>

  <script>
    let selectedImages = [];

    function selectImage(imageUrl) {
      selectedImages.push(imageUrl);
      updateImageInput();
    }

    function updateImageInput() {
      let imageInput = document.getElementById('imageInput');
      let imageContainer = document.querySelector('.image-container');
      imageInput.value = selectedImages.join(', '); // 使用逗号分隔多个图片URL
      imageContainer.innerHTML = ''; // 清空图片容器

      selectedImages.forEach(function(imageUrl) {
        let img = document.createElement('img');
        img.src = imageUrl;
        img.alt = '选定图片';
        img.classList.add('image-preview-small');
        imageContainer.appendChild(img);
      });
    }

    // 新增清空輸入框的函數
    function clearImageInput() {
      let imageInput = document.getElementById('imageInput');
      imageInput.value = '';
      selectedImages = []; // 清空選擇的圖片列表
      updateImageInput(); // 更新圖片預覽
    }

    function copyToNewInput() {
            let imageContainer = document.querySelector('.image-container');
            let imageContainers = document.querySelectorAll('.image-container-new');

            // 创建新的图片容器包含容器
            let newContainer = document.createElement('div');
            newContainer.classList.add('container');

            // 创建新的图片容器
            let newImageContainer = document.createElement('div');
            newImageContainer.classList.add('image-container-new');

            // 创建清除按钮
            let clearButton = document.createElement('button');
            clearButton.textContent = '清除';
            clearButton.classList.add('clear-button');
            clearButton.addEventListener('click', function() {
                newContainer.remove();
            });

            // 将清除按钮和新的图片容器添加到新的包含容器
            newContainer.appendChild(clearButton);
            newContainer.appendChild(newImageContainer);

    

            // 将新的包含容器插入到body中的最后一个图片容器之后
            let lastImageContainer = imageContainers[imageContainers.length - 1];
            lastImageContainer.parentNode.insertBefore(newContainer, lastImageContainer.nextSibling);

            // 遍历所有图片元素并复制到新的输入框
            imageContainer.childNodes.forEach(function(child) {
                if (child.tagName === 'IMG') {
                    let imageUrl = child.src;

                    // 创建新的图片元素
                    let imgNew = document.createElement('img');
                    imgNew.src = imageUrl;
                    imgNew.alt = '选定图片';
                    imgNew.classList.add('image-preview-small');

                    // 将新图片元素添加到新的图片容器
                    newImageContainer.appendChild(imgNew);
                }
              
            });
            clearImageInput();
        }

        // function clearImageInput() {
        //     let imageInput = document.getElementById('imageInput');
        //     imageInput.value = '';
        //     let selectedImages = document.querySelector('.image-container');
        //     selectedImages.innerHTML = '';
        // }
     
  </script>
</body>
</html>
